
  pg_dump -U postgres -d postgres ^
 --schema-only ^
-t public.admin_delegation ^
-t public.audit_log ^
-t public.corporation_master ^
-t public.notice_approval ^
-t public.notice_attachment ^
-t public.notice_base ^
-t public.notice_calendar_event ^
-t public.notice_delivery_log ^
-t public.notice_recipient ^
-t public.notice_send_plan ^
-t public.notice_tag ^
-t public.notice_target ^
-t public.organization_master ^
-t public.service_master ^
-t public.user_master ^
  > my_tables_ddl_20260121.sql
  
  https://github.com/hamyoonsic/temp.git 해당 레포지토리의 temp 폴더 하위의 멀티모듈 소스를 참고하고 추가로 sql파일 두개를 
  
  pg_dump -U postgres -d postgres ^
  --data-only ^
-t public.admin_delegation ^
-t public.audit_log ^
-t public.corporation_master ^
-t public.notice_approval ^
-t public.notice_attachment ^
-t public.notice_base ^
-t public.notice_calendar_event ^
-t public.notice_delivery_log ^
-t public.notice_recipient ^
-t public.notice_send_plan ^
-t public.notice_tag ^
-t public.notice_target ^
-t public.organization_master ^
-t public.service_master ^
-t public.user_master ^
  > my_tables_data_20260121.sql
  
  
  프론트는 그대로두고 백엔드 기존 소스기반으로 해라 
  
  스프링부트 3.4
  
  톰캣 디스커버리 스웨거 - 시스템모듈 (외부접하는모듈)
  
  어플리케이션 모듈은 백엔드 컨트롤러 서비스 들어가는모듈
  
  
  데이터모듈 - 데이터베이스 로컬이랑 데이터통신 도메인 데이터 모듈은
  
  코어나 공통모듈은 건드릴일이 없어야 정상
  
  
  쿼리팩토리 라이브러리사용
  
  
  레포지토리에서 ㅏㄱ져온 db를 조회하는건 app 단
  
  서비스단에서 dto로 변환 (공통)
  
  메서드별 rest full하게 @put @postgres
  
  
  유저디테일스
  
  세션정보가 이쓰면 통과
  토큰이 있으면 ㅗㅌㅇ과 아니면 엑세스디나잇 
  
  
  api는 기본적으로 스웨거가 붙어서 결과가 떨어진다
  
  temp로 설정된 기본세팅 변경하여 사용
  temp로 검색해서 설명들 확인하고 전부 변경하기
  
  ** db주소 바꾸고
  
  예제확인 api 추가로 만들면 된다.
  
  복잡한 쿼리가 필요할 경우 view나 프로시저 만들어서 jpa무조건 사용
  
  @immutable 확인 필요
  
  
  계열사표준앱에 넣기위해서
  
  월요일 오전 파일 전달
  
  -----
  
  
  그래들 디펜던시에 타임리프를 추가하면 
  해당 프로젝트의 리소스에 템플릿 폴더가 추가되고 컨트롤러에서 리턴값을 템플릿을 바라보게 된다?
  
  ❓ “IndexController는 왜 필요한 거야?”

❓ “static/index.html 이랑 templates/index.html 차이는?”

❓ “forward:/index.html 은 실제로 뭐가 일어나?”

❓ “왜 /api 는 되고 /index.html 은 404야?”

❓ “이걸 안 쓰면 어떤 문제가 생겨?”
  
  
  타임리프 = 
  서버 사이드 HTML 템플릿 엔진
  라이브러리
  
  HTML을 그냥 파일로 주는 게 아니라
  서버에서 값 넣어서 HTML을 만들어주는 도구
 
 src/main/resources/
 ├─ static/      ← 정적 리소스
 ├─ templates/   ← 템플릿 엔진 전용
 └─ application.yml
 
 직접 URL로 접근 불가
 반드시 Controller를 통해서만 렌더링
 
 static = 서버가 손 안 대는 파일
templates = 서버가 손 대서 만들어주는 파일

React는 HTML을 “서버가 만들어주는 파일”이 아니라
“이미 완성된 정적 파일”로 제공해야 하기 때문에
templates가 아니라 static/

forward는 “같은 서버 안에서 이동”

이게 바로 SPA(Single Page Application) 철학.
-처음에 HTML은 딱 1장만 내려주고
-이후 화면 전환은 JS가 처리
-서버는 오로지 API(데이터)만 제공
-페이지 전체 새로고침이 없어 매우 빠름
-유저 경험이 뛰어남


리액트 dev서버에러인지 스프링에러인지

 --- 이 과정을 ~ ----

React 프로젝트에서 npm run build

dist 안에 있는 index.html, assets/*를
app-api/src/main/resources/static/에 복사

Spring Boot만 bootRun으로 실행

프론트엔드 빌드 산출물을 백엔드에 포함시켜 단일 서버로 배포하는 방식
“React를 빌드해서 나온 정적 파일(dist)을 Spring Boot의 정적 리소스(static)에 패키징해서, Spring 하나로 SPA와 API를 함께 제공하는 배포(통합 배포) 과정”

-------------------



3) “근데 대시보드는 로그인 안 하면 못 보게 해야 하는데요?”라면

중요: 서버에서 /NoticeDashboard를 막는 게 아니라, 보통은 이렇게 해.
서버는 index.html은 준다 (SPA 진입만 허용)
React가 대시보드 화면에서:
토큰 없으면 /login으로 보내고
토큰 있으면 데이터 로딩





API 요청(/api/… 같은 것들): 토큰으로 보호하면 되고, 하나하나 라우트 추가할 필요 없음
SPA 화면 라우트(/NoticeDashboard, /notices/… 같은 것들): 브라우저 주소창에서 직접 들어올 수 있으니, 이건 “index.html로 포워딩” 규칙이 필요



4) 그런데 “토큰이 있는 경우”라면 화면 라우트도 서버가 막아야 하나?
보통은 아니요.
화면 라우트는 서버가 굳이 막지 않고 index.html은 내려줌
대신 “대시보드 데이터 API”는 토큰 없으면 401
React는 토큰 없으면 로그인 페이지로 보내거나, “로그인 필요” 화면을 보여줌
이게 SPA에서 가장 흔한 보안 설계야:
HTML/JS는 공개
데이터 API는 보호









추후 spring-core의 File API 연동 권장