<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>공지관리 시스템 도메인 모델 (E/C) + 레벨 정의</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Malgun Gothic", Arial, sans-serif;
      margin: 0;
      background: #f6f7f9;
      color: #111;
      line-height: 1.55;
    }
    .container {
      max-width: 980px;
      margin: 0 auto;
      padding: 28px 18px 60px;
    }
    header {
      background: #fff;
      border-radius: 14px;
      padding: 18px 18px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.06);
      margin-bottom: 18px;
    }
    h1 {
      margin: 0 0 6px 0;
      font-size: 20px;
      letter-spacing: -0.2px;
    }
    .sub {
      margin: 0;
      color: #555;
      font-size: 13px;
    }
    section {
      background: #fff;
      border-radius: 14px;
      padding: 18px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.06);
      margin-top: 14px;
    }
    h2 {
      margin: 0 0 10px 0;
      font-size: 15px;
      letter-spacing: -0.2px;
    }
    .note {
      background: #f2f4ff;
      border: 1px solid #d9defe;
      border-radius: 12px;
      padding: 12px 12px;
      color: #222;
      font-size: 13px;
      margin-top: 10px;
    }
    .grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 12px;
    }
    @media (min-width: 860px) {
      .grid {
        grid-template-columns: 1fr 1fr;
      }
    }
    .card {
      font-size: 12px;

      border: 1px solid #eee;
      border-radius: 12px;
      padding: 14px;
      background: #fff;
    }
    .pill {
      font-size: 11px;

      display: inline-block;
      font-size: 12px;
      padding: 4px 10px;
      border-radius: 999px;
      border: 1px solid #e6e6e6;
      background: #fafafa;
      margin-bottom: 10px;
    }
    ul {
      margin: 8px 0 0 18px;
    }
    li { margin: 3px 0; }
    .footer {
      margin-top: 18px;
      color: #666;
      font-size: 12px;
    }
    /* Mermaid sizing */
    .mermaid {
      overflow-x: auto;
      padding: 6px 0;
    }
  </style>

  <!-- Mermaid -->
  <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      mermaid.initialize({
        startOnLoad: true,
        securityLevel: "loose"
      });
    });
  </script>
</head>

<body>
  <div class="container">
    <header>
      <h1>공지관리 시스템 도메인 모델 (E/C) + 공지 레벨 정의</h1>
      <!-- <p class="sub">제출용 1페이지 정리: E(Entity) / C(Constraint, 업무 규칙) 기반</p> -->
    </header>
    <section>
      <h2>문서 이력 (Version History)</h2>
      <table style="width:100%; border-collapse:collapse; background:#fff;">
        <tr>
          <th style="border:1px solid #ddd; padding:10px;">버전</th>
          <th style="border:1px solid #ddd; padding:10px;">일자</th>
          <th style="border:1px solid #ddd; padding:10px;">작성자</th>
          <th style="border:1px solid #ddd; padding:10px;">변경 내용</th>
        </tr>
        <tr>
          <td style="border:1px solid #ddd; padding:10px;">v1.0</td>
          <td style="border:1px solid #ddd; padding:10px;">2026-01-02</td>
          <td style="border:1px solid #ddd; padding:10px;">함윤식</td>
          <td style="border:1px solid #ddd; padding:10px;">공지관리 시스템 도메인 모델(DPR) 최초 작성</td>
        </tr>
      </table>
    </section>


    <section>
      <h2>1) Domain Model Diagram (Flowchart LR)</h2>

      <div class="mermaid">
flowchart LR
    Notice["E Notice
(공지)"]
    Approval["E Approval
(승인)"]
    SendPlan["E SendPlan
(발송계획)"]
    Calendar["E CalendarEventLink
(캘린더연계)"]

    C1["C 승인되지 않은 공지는
발송할 수 없다"]
    C2["C L3(긴급/차단) 공지는
게시 기간이 반드시 있어야 한다"]
    C3["C 종료된 공지는
수정할 수 없다"]

    C4["C 공지 등록 시
담당자 승인 요청이 자동 발생한다"]
    C5["C 승인/반려 이력은
모두 기록되어야 한다"]

    C6["C 공지는 예약 발송이 가능해야 한다"]
    C7["C 동일 발송 시각의 공지는
메일 1통으로 묶음 발송 가능하다"]
    C8["C 긴급 공지는 승인 없이 발송 가능하다"]

    C9["C 공지 발송 시 Outlook
공지 자원 캘린더에 자동 등록된다"]
    C10["C 캘린더 일정 제목은
메일 제목을 사용한다"]

    Notice --> C1
    Notice --> C2
    Notice --> C3

    Approval --> C4
    Approval --> C5

    SendPlan --> C6
    SendPlan --> C7
    SendPlan --> C8

    Calendar --> C9
    Calendar --> C10
</div>

      <div class="note">
        <b>표기 규칙</b><br/>
        E = Entity(업무에서 “한 건”으로 추적되는 대상), C = Constraint(반드시 지켜야 하는 업무 규칙).<br/>
        <!-- <span style="color:#555">※ 노드 안의 &lt;br/&gt;는 줄바꿈(레이아웃)용입니다.</span> -->
      </div>
    </section>
    <section>
      <h2>1-2) DPR 스타일(클래스/열거형 표기) 예시</h2>
      <!-- <p style="margin: 6px 0 10px 0; color:#555; font-size:13px;">
        아래 그림은 DPR 템플릿 스타일을 참고한 도메인 모델 예시로, 한국어 중심 표기와 단순한 구조로 이해하기 쉽게 표현하였습니다.
        (이 다이어그램에서 <b>C는 Constraint가 아니라 Class</b>라는 점이 핵심!)
      </p> -->
      <div style="border:1px solid #eee; border-radius:12px; padding:12px; overflow-x:auto;">
        
<svg viewBox="0 0 980 520" width="100%" height="auto" role="img" aria-label="DPR 스타일 도메인 모델">
  <defs>
    <style>
      .box { fill:#fff7f7; stroke:#d22; stroke-width:2; }
      .boxHeaderLine { stroke:#d22; stroke-width:2; }
      .labelCircle { fill:#cfe0ff; stroke:#333; stroke-width:1.5; }
      .labelCircleText { font: 700 14px -apple-system,BlinkMacSystemFont,'Segoe UI','Malgun Gothic',Arial,sans-serif; fill:#111; }
      .titleText { font: 700 16px -apple-system,BlinkMacSystemFont,'Segoe UI','Malgun Gothic',Arial,sans-serif; fill:#111; }
      .bodyText { font: 13px -apple-system,BlinkMacSystemFont,'Segoe UI','Malgun Gothic',Arial,sans-serif; fill:#111; }
      .rel { stroke:#d22; stroke-width:2; fill:none; marker-end:url(#arrow); }
      .relText { font: 12px -apple-system,BlinkMacSystemFont,'Segoe UI','Malgun Gothic',Arial,sans-serif; fill:#111; }
      .note { fill:#fff6cc; stroke:#c8a200; stroke-width:1.5; }
      .noteText { font: 12px -apple-system,BlinkMacSystemFont,'Segoe UI','Malgun Gothic',Arial,sans-serif; fill:#111; }
    </style>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L10,3 L0,6 Z" fill="#d22"></path>
    </marker>
  </defs>

  <!-- Notice -->
  <g transform="translate(70,80)">
    <rect class="box" x="0" y="0" width="260" height="170" rx="6"></rect>
    <line class="boxHeaderLine" x1="0" y1="42" x2="260" y2="42"></line>
    <circle class="labelCircle" cx="22" cy="21" r="14"></circle>
    <text class="labelCircleText" x="22" y="26" text-anchor="middle">C</text>
    <text class="titleText" x="45" y="27">Notice</text>
    <text class="bodyText" x="12" y="70">+ 제목</text>
    <text class="bodyText" x="12" y="92">+ 내용</text>
    <text class="bodyText" x="12" y="114">+ 공지 중요도</text>
    <text class="bodyText" x="12" y="136">+ 공지 상태</text>
    <text class="bodyText" x="12" y="158">+ 발송 가능 여부 검증</text>
  </g>

  <!-- Approval -->
  <g transform="translate(380,70)">
    <rect class="box" x="0" y="0" width="260" height="160" rx="6"></rect>
    <line class="boxHeaderLine" x1="0" y1="42" x2="260" y2="42"></line>
    <circle class="labelCircle" cx="22" cy="21" r="14"></circle>
    <text class="labelCircleText" x="22" y="26" text-anchor="middle">C</text>
    <text class="titleText" x="45" y="27">Approval</text>
    <text class="bodyText" x="12" y="70">+ 승인 요청 일시</text>
    <text class="bodyText" x="12" y="92">+ 승인 처리 일시</text>
    <text class="bodyText" x="12" y="114">+ 승인 결과</text>
    <text class="bodyText" x="12" y="136">+ 승인 또는 반려 결정</text>
  </g>

  <!-- SendPlan -->
  <g transform="translate(380,260)">
    <rect class="box" x="0" y="0" width="260" height="170" rx="6"></rect>
    <line class="boxHeaderLine" x1="0" y1="42" x2="260" y2="42"></line>
    <circle class="labelCircle" cx="22" cy="21" r="14"></circle>
    <text class="labelCircleText" x="22" y="26" text-anchor="middle">C</text>
    <text class="titleText" x="45" y="27">SendPlan</text>
    <text class="bodyText" x="12" y="70">+ 발송 방식</text>
    <text class="bodyText" x="12" y="92">+ 예약 발송 일시(선택)</text>
    <text class="bodyText" x="12" y="114">+ 묶음 발송 기준</text>
    <text class="bodyText" x="12" y="136">+ 묶음 발송 가능 여부</text>
    <text class="bodyText" x="12" y="158">+ 즉시 발송 여부</text>
  </g>

  <!-- CalendarEventLink -->
  <g transform="translate(690,240)">
    <rect class="box" x="0" y="0" width="240" height="155" rx="6"></rect>
    <line class="boxHeaderLine" x1="0" y1="42" x2="240" y2="42"></line>
    <circle class="labelCircle" cx="22" cy="21" r="14"></circle>
    <text class="labelCircleText" x="22" y="26" text-anchor="middle">C</text>
    <text class="titleText" x="45" y="27">CalendarEventLink</text>
    <text class="bodyText" x="12" y="70">+ 공지 자원 ID</text>
    <text class="bodyText" x="12" y="92">+ 캘린더 일정 ID</text>
    <text class="bodyText" x="12" y="114">+ 메일 제목을 일정 제목으로 사용</text>
    <text class="bodyText" x="12" y="136">+ 캘린더 등록</text>
  </g>

  <!-- Enumeration NoticeLevel -->
  <g transform="translate(70,300)">
    <rect class="box" x="0" y="0" width="260" height="150" rx="6"></rect>
    <line class="boxHeaderLine" x1="0" y1="42" x2="260" y2="42"></line>
    <circle class="labelCircle" cx="22" cy="21" r="14" fill="#ffe0e0"></circle>
    <text class="labelCircleText" x="22" y="26" text-anchor="middle">E</text>
    <text class="titleText" x="45" y="27">NoticeLevel</text>
    <text class="bodyText" x="12" y="70">L1_GENERAL</text>
    <text class="bodyText" x="12" y="92">L2_IMPORTANT</text>
    <text class="bodyText" x="12" y="114">L3_URGENT</text>
  </g>

  <!-- Relationships -->
  <path class="rel" d="M330,150 C350,150 360,150 380,150"></path>
  <text class="relText" x="340" y="138">requires</text>

  <path class="rel" d="M330,170 C350,210 350,250 380,300"></path>
  <text class="relText" x="340" y="240">planned by</text>

  <path class="rel" d="M640,330 C660,330 670,330 690,320"></path>
  <text class="relText" x="650" y="315">registers</text>

  <path class="rel" d="M200,250 C200,270 200,280 200,300"></path>
  <text class="relText" x="210" y="285">uses</text>

  <!-- Notes (Constraints) -->
  <g transform="translate(690,70)">
    <rect class="note" x="0" y="0" width="240" height="150" rx="6"></rect>
    <text class="noteText" x="10" y="24">업무 규칙 예시</text>
    <text class="noteText" x="10" y="48">• 모든 공지는 승인 완료 후에만 발송 가능</text>
    <text class="noteText" x="10" y="70">• L3는 게시기간 필수</text>
    <text class="noteText" x="10" y="92">• 종료 공지 수정 불가</text>
    <text class="noteText" x="10" y="114">• 동일 발송 시각 공지는 묶음 발송 가능</text>
    <text class="noteText" x="10" y="136">• 발송 시 캘린더 자동등록</text>
  </g>
</svg>

      </div>
      
      <div class="note" style="margin-top:10px;">
        <b>표기 기준 설명 (DPR)</b><br/>
        • <b>C (Class)</b> : 업무 흐름 안에서 생성·변경·종료되는 도메인 객체를 의미한다.<br/>
        &nbsp;&nbsp;예) 공지, 승인, 발송계획 등<br/>
        • <b>E (Enumeration)</b> : 미리 정의된 값의 집합으로, 객체가 아닌 판단 기준을 의미한다.<br/>
        &nbsp;&nbsp;예) 공지 중요도(L1/L2/L3)<br/>
        • Enumeration은 상태나 생명주기를 가지지 않으며, 도메인 객체의 동작을 구분하기 위한 기준으로만 사용된다.
      </div>

    </section>

    <section>
      <h2>2) 공지 레벨(Level) 정의</h2>

      <div class="grid">
        <div class="card">
          <div class="pill">L1 · 일반 공지(정보성)</div>
          <ul>
            <li>의미: “알려드립니다” 수준의 안내</li>
            <li>예시: 정기 점검 예정 안내, 신규 기능 오픈 안내, 정책 변경 사전 공지</li>
            <li>권장 행위: 예약 발송/묶음 발송 중심</li>
            <li>표현: 캘린더 표시 가능, 색상 예시(파랑)</li>
          </ul>
        </div>

        <div class="card">
          <div class="pill">L2 · 중요 공지(주의)</div>
          <ul>
            <li>의미: “업무 영향 있음, 확인 필요”</li>
            <li>예시: 일부 기능 제한, 네트워크 작업, 특정 시스템 일시 중단</li>
            <li>권장 행위: 예약 또는 (정책에 따름), 묶음 발송 가능</li>
            <li>표현: 캘린더 표시 권장/필수(정책에 따름), 색상 예시(주황)</li>
          </ul>
        </div>

        <div class="card">
          <div class="pill">L3 · 긴급/차단 공지</div>
          <ul>
            <li>의미: “지금 당장 영향, 통제 필요”</li>
            <li>예시: 장애 발생, 보안 사고, 전사 시스템 중단, 업무 차단 공지</li>
            <li><b>핵심 규칙</b>:
              <ul>
                <li>승인 필수(승인 체계가 있는 경우)</li>
                <li>승인 후 </li>
                <li>게시 기간 필수</li>
                <li>Outlook 공지 자원 캘린더 등록(자동)</li>
              </ul>
            </li>
            <li>표현: 색상 예시(빨강), 완료 시 녹색 전환(완료 공지)</li>
          </ul>
        </div>

        <div class="card">
          <div class="pill">레벨 분리</div>
          <ul>
            <li>무분별한 메일 발송을 줄이고, 중요도를 기준으로 발송/표현/승인 정책을 분리하기 위함</li>
            <li>캘린더/대시보드에서 한눈에 “긴급도/영향도”를 인지하기 위함</li>
            <li>특히 L3는 “업무 통제(차단/강제 안내)”와 연결되므로 별도 규칙이 필요</li>
          </ul>
        </div>
      </div>

      <!-- <p class="footer">
        ※ 필요 시, “긴급공지 승인 생략 가능 여부”, “에디터 위치(본문/미리보기)” 등 애매한 항목은 <b>Open Issues(결정 필요 사항)</b> 섹션으로 분리하는 것을 권장합니다.
      </p> -->
    </section>
  </div>
</body>
</html>

      <div class="note" style="margin-top:10px;">
        <b>긴급공지 정책(정의)</b><br/>
        • 긴급공지는 <b>발송 시점이 아닌 처리 우선순위</b>를 의미한다.<br/>
        • 긴급공지는 승인 대기/발송 대기 큐에서 <b>최우선 처리</b>된다.<br/>
        • 예약 발송이 설정된 경우에도, 관리자가 정책 변경 시 즉시 발송으로 전환할 수 있다.<br/>
        • 긴급공지는 발송 결과(성공/실패)를 별도 강조하여 대시보드에 표시한다.
      </div>
